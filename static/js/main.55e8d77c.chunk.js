(this["webpackJsonplocations-of-interest"]=this["webpackJsonplocations-of-interest"]||[]).push([[0],{100:function(t,e,r){"use strict";r.r(e);var n=r(0),a=r.n(n),o=r(11),c=r.n(o),s=(r(90),r(48)),u=r(12),i=r(34),b=r.n(i),d=r(49),l=r(21),j=r(55),O=r(137),p=r(138),f=r(135),h=r(136),x=r(139),y=r(62),v=r(63),g=r(76),S=r(75),m=r(5),C=r(146),T=Object(m.a)((function(t){return Object(C.a)({root:{"&:nth-of-type(odd)":{backgroundColor:"white"},"&:nth-of-type(even)":{backgroundColor:"cornsilk"}}})}))(f.a),D=r(69),k=r.n(D),w=r(4),F=function(t){Object(g.a)(r,t);var e=Object(S.a)(r);function r(t){var n;return Object(y.a)(this,r),(n=e.call(this,t)).state={location:Object(u.a)({},t.location)},n}return Object(v.a)(r,[{key:"render",value:function(){return Object(w.jsxs)(T,{children:[Object(w.jsx)(h.a,{children:Object(w.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://duckduckgo.com/?ia=web&iaxm=maps&q="+encodeURIComponent(this.state.location.address),children:Object(w.jsx)(k.a,{})})}),Object(w.jsx)(h.a,{children:Object(w.jsx)("span",{title:this.state.location.whatToDo,children:this.state.location.locationName})}),Object(w.jsx)(h.a,{children:this.state.location.streetAddress}),Object(w.jsx)(h.a,{children:this.state.location.suburb}),Object(w.jsx)(h.a,{children:this.state.location.city}),Object(w.jsx)(h.a,{children:this.state.location.postCode}),Object(w.jsx)(h.a,{children:this.state.location.dayAsString}),Object(w.jsx)(h.a,{children:this.state.location.times}),Object(w.jsx)(h.a,{children:this.state.location.updatedAsString})]})}}]),r}(n.PureComponent),A=r(77),L=r(71),B=r.n(L),I=r(72),P=r.n(I),M=r(70),N=r.n(M),J=["text","currentSort"];var E=function(t){var e,r,n,a=t.text,o=t.currentSort,c=Object(A.a)(t,J),s=(e=t.sortproperty,r=o.sortBy,n=o.sortAsc,e!==r?Object(w.jsx)(N.a,{}):n?Object(w.jsx)(B.a,{}):Object(w.jsx)(P.a,{}));return Object(w.jsxs)(h.a,Object(u.a)(Object(u.a)({},c),{},{children:[a," ",s]}))};var U={numbers:function(t,e,r){var n=t-e;return r||(n*=-1),n},dates:function(t,e,r){var n=t>e?1:-1;return r||(n*=-1),n},strings:function(t,e,r){if(!t||""===t)return 1;var n=(t||"").localeCompare(e||"");return r||(n*=-1),n}};var R={locations:function(t,e,r){return"id"===r?t.sort((function(t,n){return U.numbers(t[r],n[r],e)})):"day"===r||"updated"===r?t.sort((function(t,n){return U.dates(t[r],n[r],e)})):t.sort((function(t,n){return U.strings(t[r],n[r],e)})),Object(j.a)(t)},defaultSort:"id"},_={locale:"en-NZ"};function q(t,e,r){return e&&r?t>=e&&t<r:e?t>=e:!r||t<r}var H={locations:function(t,e){if(!e)return t;var r=function(t){var e={text:t.text,suburb:t.suburb,updatedFrom:t.updatedFrom?new Date(t.updatedFrom):void 0,updatedTo:t.updatedTo?new Date(t.updatedTo):void 0,dayTo:t.dayTo?new Date(t.dayTo):void 0,dayFrom:t.dayFrom?new Date(t.dayFrom):void 0};return e.text=e.text.toLocaleLowerCase(_.locale),e.suburb=e.suburb.toLocaleLowerCase(_.locale),e.updatedFrom&&(e.updatedTo=new Date(e.updatedFrom),e.updatedTo.setDate(e.updatedTo.getDate()+1),e.updatedTo.setMinutes(e.updatedTo.getMinutes()-1)),e.dayTo&&(e.dayTo.setDate(e.dayTo.getDate()+1),e.dayTo.setMinutes(e.dayTo.getMinutes()-1)),e}(e);return t.filter((function(t){return function(t,e){return!e||-1!==t.search.indexOf(e)}(t,r.text)&&function(t,e){return!e||!!t.suburb&&t.suburb.toLocaleLowerCase(_.locale)===e}(t,r.suburb)&&q(t.updated,r.updatedFrom,r.updatedTo)&&q(t.day,r.dayFrom,r.dayTo)}))}};var W=function(t){var e=Object(n.useState)(t.locations),r=Object(l.a)(e,2),a=r[0],o=r[1],c=Object(n.useState)(R.defaultSort),s=Object(l.a)(c,2),u=s[0],i=s[1],b=Object(n.useState)(!0),d=Object(l.a)(b,2),y=d[0],v=d[1],g=function(t){var e,r=t.currentTarget.getAttribute("sortproperty")||R.defaultSort;e=u!==r||!y;var n=R.locations(a,e,r);i(r),v(e),o(n)},S=H.locations(t.locations,t.search);return S.length!==a.length&&(S=R.locations(S,y,u),o(Object(j.a)(S)),t.onCountChange(S.length)),Object(w.jsxs)(O.a,{stickyHeader:!0,children:[Object(w.jsx)(p.a,{children:Object(w.jsxs)(f.a,{children:[Object(w.jsx)(h.a,{children:"Maps"}),Object(w.jsx)(E,{onClick:g,sortproperty:"locationName",text:"Location Name",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(E,{onClick:g,sortproperty:"streetAddress",text:"Street address",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(E,{onClick:g,sortproperty:"suburb",text:"Suburb",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(E,{onClick:g,sortproperty:"city",text:"City",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(E,{onClick:g,sortproperty:"postCode",text:"Post code",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(E,{onClick:g,sortproperty:"day",text:"Day",currentSort:{sortBy:u,sortAsc:y}}),Object(w.jsx)(h.a,{children:"Times"}),Object(w.jsx)(E,{onClick:g,sortproperty:"updated",text:"Updated",currentSort:{sortBy:u,sortAsc:y}})]})}),Object(w.jsx)(x.a,{children:a.map((function(t){return Object(w.jsx)(F,{location:t},t.id)}))})]})},Z=r(143),z="https://raw.githubusercontent.com/JulianScap/locations-of-interest/main/json/locations-of-interest.json";function G(){return K.apply(this,arguments)}function K(){return(K=Object(d.a)(b.a.mark((function t(){var e,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=1,t.next=3,fetch(z).then((function(t){return t.json()})).then((function(t){return t.map((function(t){var r=Object(u.a)(Object(u.a)({},t),{},{day:new Date(t.day),updated:new Date(t.updated),id:e++});return r.search=[r.city,r.locationName,r.postCode,r.streetAddress,r.suburb].join("\n").toLocaleLowerCase(_.locale),r}))}));case 3:return r=t.sent,t.abrupt("return",r||[]);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Q=r(144),V=r(140),X=r(147),Y=r(145),$=r(74),tt=r.n($);var et=function(t){return Object(w.jsxs)("div",{style:{display:"flex"},children:[Object(w.jsx)(Q.a,{label:"Search",variant:"outlined",style:{flex:1},onChange:function(e){return t.setTextSearch(e.currentTarget.value)}}),"\xa0",Object(w.jsx)(Q.a,{InputLabelProps:{shrink:!0},label:"Day from",variant:"outlined",type:"Date",style:{flex:1},onChange:function(e){return t.setDaySearch(e.currentTarget.value,"dayFrom")}}),"\xa0",Object(w.jsx)(Q.a,{InputLabelProps:{shrink:!0},label:"Day to",variant:"outlined",type:"Date",style:{flex:1},onChange:function(e){return t.setDaySearch(e.currentTarget.value,"dayTo")}}),"\xa0",Object(w.jsx)(Q.a,{InputLabelProps:{shrink:!0},label:"Updated date",variant:"outlined",type:"Date",style:{flex:1},onChange:t.setDateSearch}),"\xa0",Object(w.jsx)(Y.a,{options:t.suburbs,style:{flex:1,display:"inline-block"},renderInput:function(t){return Object(w.jsx)(Q.a,Object(u.a)(Object(u.a)({},t),{},{label:"Suburb",variant:"outlined"}))},onChange:function(e,r){t.setSuburbSearch(r)}}),"\xa0",Object(w.jsx)(V.a,{style:{flex:1,textAlign:"right"},children:Object(w.jsx)(X.a,{children:"Count: "+t.resultCount})}),"\xa0",Object(w.jsx)("a",{href:"https://github.com/JulianScap/locations-of-interest",target:"_blank",rel:"noreferrer",children:Object(w.jsx)(tt.a,{})})]})};var rt=function(){var t=Object(n.useState)(""),e=Object(l.a)(t,2),r=e[0],o=e[1],c=Object(n.useState)({text:"",suburb:""}),i=Object(l.a)(c,2),j=i[0],O=i[1],p=Object(n.useState)(0),f=Object(l.a)(p,2),h=f[0],x=f[1],y=Object(n.useState)([]),v=Object(l.a)(y,2),g=v[0],S=v[1],m=Object(n.useState)([]),C=Object(l.a)(m,2),T=C[0],D=C[1];return Object(n.useEffect)((function(){function t(){return(t=Object(d.a)(b.a.mark((function t(){var e;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G();case 2:e=t.sent,D(e.map((function(t){return t.suburb})).filter((function(t,e,r){return!!t&&r.indexOf(t)===e&&!t.startsWith("RD")})).sort()),S(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(n.useEffect)((function(){var t=setTimeout((function(){O((function(t){return Object(u.a)(Object(u.a)({},t),{},{text:r})}))}),500);return function(){return clearTimeout(t)}}),[r]),Object(w.jsxs)(a.a.Fragment,{children:[Object(w.jsx)(Z.a,{}),Object(w.jsx)("br",{}),Object(w.jsx)(et,{suburbs:T,resultCount:h,setTextSearch:o,setSuburbSearch:function(t){return O((function(e){return Object(u.a)(Object(u.a)({},e),{},{suburb:t||""})}))},setDaySearch:function(t,e){var r;t&&(r=new Date(t));var n=Object(u.a)(Object(u.a)({},j),{},Object(s.a)({},e,r));O(n)},setDateSearch:function(t){var e;t.currentTarget.value&&(e=new Date(t.currentTarget.value)),O(Object(u.a)(Object(u.a)({},j),{},{updatedTo:void 0,updatedFrom:e}))}}),Object(w.jsx)(W,{search:j,locations:g,onCountChange:function(t){x(t)}})]})},nt=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,149)).then((function(e){var r=e.getCLS,n=e.getFID,a=e.getFCP,o=e.getLCP,c=e.getTTFB;r(t),n(t),a(t),o(t),c(t)}))};c.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(rt,{})}),document.getElementById("root")),nt()},90:function(t,e,r){}},[[100,1,2]]]);
//# sourceMappingURL=main.55e8d77c.chunk.js.map